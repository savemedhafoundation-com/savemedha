.body-map-wrapper {
  width: 100%;
}

.body-card {
  width: 100%;
  background: #3D6613;
  border: 1px solid rgba(127, 198, 226, 0.15);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
  border-radius: 28px;
  padding: 1.5rem 1.5rem 2rem;
  backdrop-filter: blur(10px);
}

.body-card-header {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: flex-end;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.body-card h2 {
  margin: 0.15rem 0;
  font-size: 1.6rem;
}

.label {
  font-size: 0.85rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #8bc7ff;
  margin: 0;
}

.hint {
  margin: 0;
  color: #9fb6d7;
  font-size: 0.95rem;
}

.body-canvas {
  display: flex;
  justify-content: center;
  width: 100%;
  overflow: hidden;
  margin-bottom: -80px; /* pull up to remove excess whitespace under the map */
}

.body-map-svg {
  width: 120%;
  max-width: 800px;
  height: auto;
  filter: drop-shadow(0 20px 30px rgba(0, 0, 0, 0.35));
}

.organ {
  cursor: pointer;
  transition: filter 0.3s ease;
}

.organ .hit-shape {
  fill: transparent;
  stroke: none;
  pointer-events: all;
}

.organ-sprite {
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.organ-sprite.base {
  opacity: 1;
}

.organ-sprite.glow {
  opacity: 0;
}

.organ:hover .organ-sprite.glow,
.organ:focus-visible .organ-sprite.glow {
  opacity: 1;
  transform: scale(1.15);

  filter:
    drop-shadow(-15px 0 25px rgba(116, 196, 37, 0.9))
    drop-shadow(15px 0 25px rgba(116, 196, 37, 0.9))
    drop-shadow(0 0 40px rgba(116, 196, 37, 1))
    drop-shadow(0 0 70px rgba(116, 196, 37, 0.75));

  transition: opacity 0.3s ease, transform 0.3s ease;
}

.organ.brain {
  stroke: none;
}

.organ.lungs {
  fill: rgba(126, 196, 255, 0.8);
}

.organ.stomach {
  fill: rgba(255, 210, 143, 0.85);
}

.brain-base,
.brain-glow {
  pointer-events: none;
}

.brain-hit {
  pointer-events: all;
}

.brain-glow {
  opacity: 0;
  transition: opacity 0.3s ease, transform 0.3s ease;
  transform-origin: 50% 50%;
  transform-box: fill-box;
  filter: drop-shadow(0 0 16px rgba(151, 208, 255, 0.9));
}

.organ.brain:hover .brain-glow,
.organ.brain:focus-visible .brain-glow {
  opacity: 1;
  transform: scale(1.05);
}

.organ:focus-visible {
  box-shadow: 0 0 0 3px rgba(255, 154, 154, 0.5);
}

.organ.brain {
  fill: rgba(255, 154, 193, 0.85);
}

.organ.heart {
  fill: rgba(255, 111, 125, 0.8);
}

.organ.liver {
  fill: rgba(246, 178, 107, 0.85);
}

.organ.stomach {
  fill: rgba(255, 210, 143, 0.85);
}

.organ.small-intestine {
  fill: rgba(186, 214, 255, 0.85);
}

.organ.large-intestine {
  fill: rgba(158, 194, 255, 0.9);
}

.organ.eye {
  fill: rgba(255, 255, 255, 0.8);
  stroke: rgba(0, 0, 0, 0.35);
}

.organ.throat {
  fill: rgba(255, 160, 207, 0.9);
}

.organ.thyroid {
  fill: rgba(255, 196, 128, 0.9);
}

.organ.oral {
  fill: rgba(255, 182, 193, 0.9);
}

.organ.gallbladder {
  fill: rgba(144, 238, 144, 0.9);
}

.organ.pancreas {
  fill: rgba(255, 204, 153, 0.9);
}

.organ.kidney {
  fill: rgba(178, 223, 219, 0.95);
}

.organ.skin-hand {
  fill: rgba(255, 226, 200, 0.85);
}

@media (max-width: 640px) {
  .body-card {
    padding: 1.25rem 1rem 1.75rem;
  }

  .body-card h2 {
    font-size: 1.4rem;
  }

  .body-map-svg {
    width: 115%;
    max-width: 520px;
  }
  .body-canvas {
    margin-bottom: -40px;
  }
}

@media (max-width: 480px) {
  .body-card {
    padding: 1rem 0.85rem 1.25rem;
    border-radius: 18px;
  }
  .body-map-svg {
    width: 115%;
    max-width: 420px;
  }
}

@media (min-width: 1024px) {
  .body-map-svg {
    width: 100%;
    max-width: 100%;
    height: auto;
    max-height: 78vh;
  }
}
